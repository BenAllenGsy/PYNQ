

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pynq.drivers package &mdash; Python productivity for Zynq (Pynq) v1.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Python productivity for Zynq (Pynq) v1.0" href="index.html"/>
        <link rel="up" title="Subpackages" href="pynq.html"/>
        <link rel="next" title="Frequently Asked Questions (FAQs)" href="14_faqs.html"/>
        <link rel="prev" title="pynq.iop package" href="pynq.iop.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Python productivity for Zynq (Pynq)
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1_getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_pynq.html">PYNQ Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_jupyter_notebook.html">Jupyter Notebook Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_programming_python.html">Cortex-A9 programming in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_programming_onboard.html">Programming PYNQ-Z1&#8217;s onboard peripherals</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_overlays.html">Introduction to Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="7_iop_architecture.html">IO Processor Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="8_iop_code.html">IO Processors: Writing Your Own Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="9a_base_overlay_iop.html">Using Peripherals with the Base overlay</a></li>
<li class="toctree-l1"><a class="reference internal" href="9b_base_overlay_video.html">Video using the Base Overlay</a></li>
<li class="toctree-l1"><a class="reference internal" href="9c_base_overlay_audio.html">Audio using the Base Overlay</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_creating_overlays.html">Creating Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_python_package.html"><code class="docutils literal"><span class="pre">pynq</span></code> Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_verification.html">Verification</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html"><code class="docutils literal"><span class="pre">pynq</span></code> package reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pynq.html">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pynq.board.html">pynq.board package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pynq.iop.html">pynq.iop package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">pynq.drivers package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pynq.drivers.audio">pynq.drivers.audio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pynq.drivers.dma">pynq.drivers.dma module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pynq.drivers.trace_buffer">pynq.drivers.trace_buffer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pynq-drivers-usb-wifi-module">pynq.drivers.usb_wifi module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pynq.drivers.video">pynq.drivers.video module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pynq.drivers.xlnk">pynq.drivers.xlnk module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pynq.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="14_faqs.html">Frequently Asked Questions (FAQs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="15_glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="16_references.html">Useful Reference Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="17_appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="18_changelog.html">Documentation Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Python productivity for Zynq (Pynq)</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="modules.html"><code class="docutils literal"><span class="pre">pynq</span></code> package reference</a> &raquo;</li>
      
          <li><a href="pynq.html">Subpackages</a> &raquo;</li>
      
    <li>pynq.drivers package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pynq.drivers.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: navy;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: darkred;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 11ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansiblack { color: black; }
.ansired { color: darkred; }
.ansigreen { color: darkgreen; }
.ansiyellow { color: #c4a000; }
.ansiblue { color: darkblue; }
.ansipurple { color: darkviolet; }
.ansicyan { color: steelblue; }
/* See https://github.com/jupyter/nbconvert/issues/174 */
.ansigray { color: gray; }  /* nbconvert CSS */
.ansigrey { color: gray; }  /* nbconvert HTML output */

.ansibgblack { background-color: black; }
.ansibgred { background-color: red; }
.ansibggreen { background-color: green; }
.ansibgyellow { background-color: yellow; }
.ansibgblue { background-color: blue; }
.ansibgpurple { background-color: magenta; }
.ansibgcyan { background-color: cyan; }
.ansibggray { background-color: gray; }

.ansibold { font-weight: bold; }
</style>
<div class="section" id="pynq-drivers-package">
<h1>pynq.drivers package<a class="headerlink" href="#pynq-drivers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pynq.drivers.audio">
<span id="pynq-drivers-audio-module"></span><h2>pynq.drivers.audio module<a class="headerlink" href="#module-pynq.drivers.audio" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pynq.drivers.audio.Audio">
<em class="property">class </em><code class="descclassname">pynq.drivers.audio.</code><code class="descname">Audio</code><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to interact with audio controller.</p>
<p>Each audio sample is a 32-bit integer. The audio controller supports only
mono mode, and uses pulse density modulation (PDM).</p>
<dl class="attribute">
<dt id="pynq.drivers.audio.Audio.base_addr">
<code class="descname">base_addr</code><a class="headerlink" href="#pynq.drivers.audio.Audio.base_addr" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; The base address of the audio controller (e.g. 0x43C0000).</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.audio.Audio.length">
<code class="descname">length</code><a class="headerlink" href="#pynq.drivers.audio.Audio.length" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; Length of audio controller address space (e.g. 0x10000).</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.audio.Audio.buffer">
<code class="descname">buffer</code><a class="headerlink" href="#pynq.drivers.audio.Audio.buffer" title="Permalink to this definition">¶</a></dt>
<dd><p><em>numpy.ndarray</em> &#8211; The numpy array to store the audio.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.audio.Audio.sample_rate">
<code class="descname">sample_rate</code><a class="headerlink" href="#pynq.drivers.audio.Audio.sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; Sample rate of the current buffer content.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.audio.Audio.sample_len">
<code class="descname">sample_len</code><a class="headerlink" href="#pynq.drivers.audio.Audio.sample_len" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; Sample length of the current buffer content.</p>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.audio.Audio.bypass_start">
<code class="descname">bypass_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio.bypass_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio.bypass_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream audio controller input directly to output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.audio.Audio.bypass_stop">
<code class="descname">bypass_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio.bypass_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio.bypass_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop streaming input to output directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.audio.Audio.info">
<code class="descname">info</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints information about pdm files.</p>
<p>The information includes name, channels, samples, frames, etc.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The file will be searched in the specified path, or in the
working directory in case the path does not exist.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> (<em>string</em>) &#8211; File name, with a default extension of <cite>pdm</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.audio.Audio.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads file into internal audio buffer.</p>
<p>The recorded file is of format <cite>*.pdm</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The file will be searched in the specified path, or in the
working directory in case the path does not exist.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> (<em>string</em>) &#8211; File name, with a default extension of <cite>pdm</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.audio.Audio.play">
<code class="descname">play</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio.play"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Play audio buffer via audio jack.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.audio.Audio.record">
<code class="descname">record</code><span class="sig-paren">(</span><em>seconds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio.record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Record data from audio controller to audio buffer.</p>
<p>The sample rate per word is 192000Hz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>seconds</strong> (<em>float</em>) &#8211; The number of seconds to be recorded.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.audio.Audio.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/audio.html#Audio.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.audio.Audio.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save audio buffer content to a file.</p>
<p>The recorded file is of format <cite>*.pdm</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The saved file will be put into the specified path, or in the
working directory in case the path does not exist.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> (<em>string</em>) &#8211; File name, with a default extension of <cite>pdm</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pynq.drivers.dma">
<span id="pynq-drivers-dma-module"></span><h2>pynq.drivers.dma module<a class="headerlink" href="#module-pynq.drivers.dma" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pynq.drivers.dma.DMA">
<em class="property">class </em><code class="descclassname">pynq.drivers.dma.</code><code class="descname">DMA</code><span class="sig-paren">(</span><em>address</em>, <em>direction=1</em>, <em>attr_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#DMA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.DMA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Python class which controls DMA.</p>
<p>This is a generic DMA class that can be used to access main memory.</p>
<p>The DMA direction can be:</p>
<p>(0)`DMA_TO_DEV` : DMA sends data to PL.</p>
<p>(1)`DMA_FROM_DEV` : DMA receives data from PL.</p>
<p>(3)`DMA_BIDIRECTIONAL` : DMA can send/receive data from PL.</p>
<dl class="attribute">
<dt id="pynq.drivers.dma.DMA.buf">
<code class="descname">buf</code><a class="headerlink" href="#pynq.drivers.dma.DMA.buf" title="Permalink to this definition">¶</a></dt>
<dd><p><em>cffi.FFI.CData</em> &#8211; A pointer to physically contiguous buffer.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.dma.DMA.bufLength">
<code class="descname">bufLength</code><a class="headerlink" href="#pynq.drivers.dma.DMA.bufLength" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; Length of internal buffer in bytes.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.dma.DMA.phyAddress">
<code class="descname">phyAddress</code><a class="headerlink" href="#pynq.drivers.dma.DMA.phyAddress" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; Physical address of the DMA device.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.dma.DMA.DMAengine">
<code class="descname">DMAengine</code><a class="headerlink" href="#pynq.drivers.dma.DMA.DMAengine" title="Permalink to this definition">¶</a></dt>
<dd><p><em>cdata &#8216;XAxiDma *&#8217;</em> &#8211; DMA engine instance defined in C. Not to be directly modified.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.dma.DMA.DMAinstance">
<code class="descname">DMAinstance</code><a class="headerlink" href="#pynq.drivers.dma.DMA.DMAinstance" title="Permalink to this definition">¶</a></dt>
<dd><p><em>cdata &#8216;XAxiDma_Config *&#8217;</em> &#8211; DMA configuration instance struct. Not to be directly modified.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.dma.DMA.direction">
<code class="descname">direction</code><a class="headerlink" href="#pynq.drivers.dma.DMA.direction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; The direction indicating whether DMA sends/receives data from PL.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.dma.DMA.Configuration">
<code class="descname">Configuration</code><a class="headerlink" href="#pynq.drivers.dma.DMA.Configuration" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; Current DMAinstance configuration values.</p>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.dma.DMA.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>attr_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#DMA.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.DMA.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconfigure and Reinitialize the DMA IP.</p>
<p>Uses a user provided dict to reinitialize the DMA.
This method also frees the internal buffer
associated with current object.</p>
<p>The keys in <cite>attr_dict</cite> should exactly match the ones used in default
config. All the keys are not required. The default configuration is
defined in dma.DefaultConfig dict. Users can reinitialize the DMA
with new configuratiuon after creating the object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>attr_dict</strong> (<em>dict</em>) &#8211; A dictionary specifying DMA configuration values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.dma.DMA.create_buf">
<code class="descname">create_buf</code><span class="sig-paren">(</span><em>num_bytes</em>, <em>cacheable=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#DMA.create_buf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.DMA.create_buf" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate physically contiguous memory buffer.</p>
<p>Allocates/Reallocates buffer needed for DMA operations.</p>
<p>Possible values for parameter <cite>cacheable</cite> are:</p>
<p><cite>1</cite>: the memory buffer is cacheable.</p>
<p><cite>0</cite>: the memory buffer is non-cacheable.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This buffer is allocated inside the kernel space using
xlnk driver. The maximum allocatable memory is defined
at kernel build time using the CMA memory parameters.
For Pynq-Z1 kernel, it is specified as 128MB.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_bytes</strong> (<em>int</em>) &#8211; Length of the allocated array in bytes.</li>
<li><strong>cacheable</strong> (<em>int</em>) &#8211; Indicating whether or not the memory buffer is cacheable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.dma.DMA.free_buf">
<code class="descname">free_buf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#DMA.free_buf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.DMA.free_buf" title="Permalink to this definition">¶</a></dt>
<dd><p>Free the memory buffer associated with this object.</p>
<p>Use this to free a previously allocated memory buffer.
This is specially useful for reallocations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.dma.DMA.get_buf">
<code class="descname">get_buf</code><span class="sig-paren">(</span><em>width=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#DMA.get_buf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.DMA.get_buf" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a CFFI pointer to object&#8217;s internal buffer.</p>
<p>This can be accessed like a regular array in python. The width can be
either 32 or 64.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>width</strong> (<em>int</em>) &#8211; The data width in the buffer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An CFFI object which can be accessed similar to arrays in C.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">cffi.FFI.CData</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.dma.DMA.transfer">
<code class="descname">transfer</code><span class="sig-paren">(</span><em>num_bytes</em>, <em>direction=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#DMA.transfer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.DMA.transfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfer data using DMA (Non-blocking).</p>
<p>Used to initiate transfer of data between a physically contiguous
buffer and PL. The buffer should be allocated using <cite>create_buf</cite>
before this call.</p>
<p>The <cite>num_bytes</cite> should be less than buffer size and
<cite>DMA_TRANSFER_LIMIT_BYTES</cite>.</p>
<p>Possible values for <cite>direction</cite> are:</p>
<p>(0)`DMA_TO_DEV` : DMA sends data to PL.</p>
<p>(1)`DMA_FROM_DEV` : DMA receives data from PL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_bytes</strong> (<em>int</em>) &#8211; Number of bytes to transfer.</li>
<li><strong>direction</strong> (<em>int</em>) &#8211; Direction in which DMA transfers data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.dma.DMA.wait">
<code class="descname">wait</code><span class="sig-paren">(</span><em>wait_timeout=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#DMA.wait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.DMA.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Block till DMA is busy or a timeout occurs.</p>
<p>Default value of timeout is 10 seconds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wait_timeout</strong> (<em>int</em>) &#8211; Time to wait in seconds before timing out wait operation.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynq.drivers.dma.timeout">
<em class="property">class </em><code class="descclassname">pynq.drivers.dma.</code><code class="descname">timeout</code><span class="sig-paren">(</span><em>seconds=1</em>, <em>error_message='Timeout'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Internal timeout functions.</p>
<p>This class is only used internally.</p>
<dl class="method">
<dt id="pynq.drivers.dma.timeout.handle_timeout">
<code class="descname">handle_timeout</code><span class="sig-paren">(</span><em>signum</em>, <em>frame</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/dma.html#timeout.handle_timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.dma.timeout.handle_timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pynq.drivers.trace_buffer">
<span id="pynq-drivers-trace-buffer-module"></span><h2>pynq.drivers.trace_buffer module<a class="headerlink" href="#module-pynq.drivers.trace_buffer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer">
<em class="property">class </em><code class="descclassname">pynq.drivers.trace_buffer.</code><code class="descname">Trace_Buffer</code><span class="sig-paren">(</span><em>if_id</em>, <em>protocol</em>, <em>trace=None</em>, <em>data=None</em>, <em>samplerate=500000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class for the trace buffer, leveraging the sigrok libraries.</p>
<p>This trace buffer class gets the traces from DMA and processes it using
the sigrok commands.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <cite>sigrok-cli</cite> library has to be installed before using this class.</p>
</div>
<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.protocol">
<code class="descname">protocol</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> &#8211; The protocol the sigrok decoder are using.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.trace_csv">
<code class="descname">trace_csv</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.trace_csv" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> &#8211; The absolute path of the trace file <cite>*.csv</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.trace_sr">
<code class="descname">trace_sr</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.trace_sr" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> &#8211; The absolute path of the trace file <cite>*.sr</cite>, translated from <cite>*.csv</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.trace_pd">
<code class="descname">trace_pd</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.trace_pd" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> &#8211; The absolute path of the decoded file by sigrok.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.probes">
<code class="descname">probes</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.probes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> &#8211; The list of probes used for the trace.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.dma">
<code class="descname">dma</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.dma" title="Permalink to this definition">¶</a></dt>
<dd><p><em>DMA</em> &#8211; The DMA object associated with the trace buffer.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.ctrl">
<code class="descname">ctrl</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.ctrl" title="Permalink to this definition">¶</a></dt>
<dd><p><em>MMIO</em> &#8211; The MMIO class used to control the DMA.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.samplerate">
<code class="descname">samplerate</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.samplerate" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; The samplerate of the traces.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.data">
<code class="descname">data</code><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>cffi.FFI.CData</em> &#8211; The pointer to the starting address of the trace data.</p>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.csv2sr">
<code class="descname">csv2sr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.csv2sr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.csv2sr" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the <cite>*.csv</cite> file to <cite>*.sr</cite> file.</p>
<p>The translated <cite>*.sr</cite> files can be directly used in PulseView to show
the waveform.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method also modifies the input <cite>*.csv</cite> file (the comment header,
usually 3 lines, will be removed).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>decoded_file</em>, <em>options=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode and record the trace based on the protocol specified.</p>
<p>The <cite>decoded_file</cite> contains the name of the output file.</p>
<p>The <cite>option</cite> specifies additional options to be passed to sigrok-cli.
For example, users can use option=&#8217;:wordsize=9:cpol=1:cpha=0&#8217; to add
these options for the SPI decoder.</p>
<p>The decoder will also ignore the pin collected but not required for
decoding.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The output file will have <cite>*.pd</cite> extension.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The decoded file will be put into the specified path, or in the
working directory in case the path does not exist.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>decoded_file</strong> (<em>str</em>) &#8211; The name of the file recording the outputs.</li>
<li><strong>options</strong> (<em>str</em>) &#8211; Additional options to be passed to sigrok-cli.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>start_pos</em>, <em>stop_pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.display"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw digital waveforms in ipython notebook.</p>
<p>It utilises the wavedrom java script library, documentation for which
can be found here: <a class="reference external" href="https://code.google.com/p/wavedrom/">https://code.google.com/p/wavedrom/</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only use this method in Jupyter notebook.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>WaveDrom.js and WaveDromSkin.js are required under the subdirectory js.</p>
<p>Example of the data format to draw waveform:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;signal&#39;</span><span class="p">:</span> <span class="p">[</span>
</pre></div>
</div>
<p>{&#8216;name&#8217;: &#8216;clk&#8217;, &#8216;wave&#8217;: &#8216;p.....|...&#8217;},</p>
<p>{&#8216;name&#8217;: &#8216;dat&#8217;, &#8216;wave&#8217;: &#8216;x.345x|=.x&#8217;, &#8216;data&#8217;: [&#8216;D&#8217;,&#8217;A&#8217;,&#8217;T&#8217;,&#8217;A&#8217;]},</p>
<p>{&#8216;name&#8217;: &#8216;req&#8217;, &#8216;wave&#8217;: &#8216;0.1..0|1.0&#8217;},</p>
<p>{},</p>
<p>{&#8216;name&#8217;: &#8216;ack&#8217;, &#8216;wave&#8217;: &#8216;1.....|01.&#8217;}</p>
<p class="last">]}</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start_pos</strong> (<em>int</em>) &#8211; The starting sample number (relative to the trace).</li>
<li><strong>stop_pos</strong> (<em>int</em>) &#8211; The stopping sample number (relative to the trace).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>parsed</em>, <em>start=0</em>, <em>stop=524288</em>, <em>mask=18446744073709551615</em>, <em>tri_sel=[]</em>, <em>tri_0=[]</em>, <em>tri_1=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the input data and generate a <cite>*.csv</cite> file.</p>
<p>This method can be used along with the DMA. The input data is assumed
to be 64-bit. The generated <cite>*.csv</cite> file can be then used as the trace
file.</p>
<p>To extract certain bits from the 64-bit data, use the parameter
<cite>mask</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The probe pins selected by <cite>mask</cite> does not include any tristate probe.</p>
<p class="last">To specify a set of tristate probe pins, e.g., users can set
tri_sel = [0x0000000000000004],
tri_0   = [0x0000000000000010], and
tri_1   = [0x0000000000000100].
In this example, the 3rd probe from the LSB is the selection probe;
the 5th probe is selected if selection probe is 0, otherwise the 9th
probe is selected. There can be multiple sets of tristate probe pins.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The parsed file will be put into the specified path, or in the
working directory in case the path does not exist.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parsed</strong> (<em>str</em>) &#8211; The file name of the parsed output.</li>
<li><strong>start</strong> (<em>int</em>) &#8211; The first 64-bit sample of the trace.</li>
<li><strong>stop</strong> (<em>int</em>) &#8211; The last 64-bit sample of the trace.</li>
<li><strong>mask</strong> (<em>int</em>) &#8211; A 64-bit mask to be applied to the 64-bit samples.</li>
<li><strong>tri_sel</strong> (<em>list</em>) &#8211; The list of tristate selection probe pins.</li>
<li><strong>tri_0</strong> (<em>list</em>) &#8211; The list of probe pins selected when the selection probe is 0.</li>
<li><strong>tri_1</strong> (<em>list</em>) &#8211; The list probe pins selected when the selection probe is 1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.set_metadata">
<code class="descname">set_metadata</code><span class="sig-paren">(</span><em>probes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.set_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set metadata for the trace.</p>
<p>A <cite>*.sr</cite> file directly generated from <cite>*.csv</cite> will not have any
metadata. This method helps to set the sample rate, probe names, etc.</p>
<p>The list <cite>probes</cite> depends on the protocol. For instance, the I2C
protocol requires a list of [&#8216;SDA&#8217;,&#8217;SCL&#8217;].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>probes</strong> (<em>list</em>) &#8211; A list of probe names.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.show">
<code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show information about the specified protocol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.sr2csv">
<code class="descname">sr2csv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.sr2csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.sr2csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the <cite>*.sr</cite> file to <cite>*.csv</cite> file.</p>
<p>The translated <cite>*.csv</cite> files can be used for interactive plotting.
It is human readable.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method also removes the redundant header that is generated by
sigrok.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>timeout=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the DMA to capture the traces.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<em>int</em>) &#8211; The time in number of milliseconds to wait for DMA to be idle.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.trace_buffer.Trace_Buffer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/trace_buffer.html#Trace_Buffer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.trace_buffer.Trace_Buffer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the DMA after capture is done.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is an internal timeout mechanism in the DMA class.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pynq-drivers-usb-wifi-module">
<h2>pynq.drivers.usb_wifi module<a class="headerlink" href="#pynq-drivers-usb-wifi-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pynq.drivers.video">
<span id="pynq-drivers-video-module"></span><h2>pynq.drivers.video module<a class="headerlink" href="#module-pynq.drivers.video" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pynq.drivers.video.Frame">
<em class="property">class </em><code class="descclassname">pynq.drivers.video.</code><code class="descname">Frame</code><span class="sig-paren">(</span><em>width</em>, <em>height</em>, <em>frame=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/video.html#Frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.video.Frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class exposes the bytearray of the video frame buffer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The maximum frame width is 1920, while the maximum frame height is 1080.</p>
</div>
<dl class="attribute">
<dt id="pynq.drivers.video.Frame.frame">
<code class="descname">frame</code><a class="headerlink" href="#pynq.drivers.video.Frame.frame" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bytearray</em> &#8211; The bytearray of the video frame buffer.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.Frame.width">
<code class="descname">width</code><a class="headerlink" href="#pynq.drivers.video.Frame.width" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; The width of a frame.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.Frame.height">
<code class="descname">height</code><a class="headerlink" href="#pynq.drivers.video.Frame.height" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; The height of a frame.</p>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.video.Frame.save_as_jpeg">
<code class="descname">save_as_jpeg</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/video.html#Frame.save_as_jpeg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.video.Frame.save_as_jpeg" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a video frame to a JPEG image.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The JPEG filename must be included in the path.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) &#8211; The path where the JPEG will be saved.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pynq.drivers.video.Frame.save_raw_as_jpeg">
<em class="property">static </em><code class="descname">save_raw_as_jpeg</code><span class="sig-paren">(</span><em>path</em>, <em>frame_raw</em>, <em>width</em>, <em>height</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/video.html#Frame.save_raw_as_jpeg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.video.Frame.save_raw_as_jpeg" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a video frame (in bytearray) to a JPEG image.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a static method of the class.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) &#8211; The path where the JPEG will be saved.</li>
<li><strong>frame_raw</strong> (<em>bytearray</em>) &#8211; The video frame to be saved.</li>
<li><strong>width</strong> (<em>int</em>) &#8211; The width of the frame.</li>
<li><strong>height</strong> (<em>int</em>) &#8211; The height of the frame.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynq.drivers.video.HDMI">
<em class="property">class </em><code class="descclassname">pynq.drivers.video.</code><code class="descname">HDMI</code><span class="sig-paren">(</span><em>direction</em>, <em>video_mode=4</em>, <em>init_timeout=10</em>, <em>frame_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/video.html#HDMI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.video.HDMI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class for an HDMI controller.</p>
<p>The frame buffer in an HDMI object can be shared among different objects.
e.g., HDMI in and HDMI out objects can use the same frame buffer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">HDMI supports direction &#8216;in&#8217; and &#8216;out&#8217;.</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdmi</span> <span class="o">=</span> <span class="n">HDMI</span><span class="p">(</span><span class="s1">&#39;in&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdmi</span> <span class="o">=</span> <span class="n">HDMI</span><span class="p">(</span><span class="s1">&#39;out&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.direction">
<code class="descname">direction</code><a class="headerlink" href="#pynq.drivers.video.HDMI.direction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> &#8211; Can be &#8216;in&#8217; for HDMI IN or &#8216;out&#8217; for HDMI OUT.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_list">
<code class="descname">frame_list</code><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_list" title="Permalink to this definition">¶</a></dt>
<dd><p><em>_framebuffer</em> &#8211; A frame buffer storing at most 3 frames.</p>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.VMODE_1024x768">
<code class="descname">VMODE_1024x768</code><em class="property"> = 2</em><a class="headerlink" href="#pynq.drivers.video.HDMI.VMODE_1024x768" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.VMODE_1280x1024">
<code class="descname">VMODE_1280x1024</code><em class="property"> = 3</em><a class="headerlink" href="#pynq.drivers.video.HDMI.VMODE_1280x1024" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.VMODE_1920x1080">
<code class="descname">VMODE_1920x1080</code><em class="property"> = 4</em><a class="headerlink" href="#pynq.drivers.video.HDMI.VMODE_1920x1080" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.VMODE_640x480">
<code class="descname">VMODE_640x480</code><em class="property"> = 0</em><a class="headerlink" href="#pynq.drivers.video.HDMI.VMODE_640x480" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.VMODE_800x600">
<code class="descname">VMODE_800x600</code><em class="property"> = 1</em><a class="headerlink" href="#pynq.drivers.video.HDMI.VMODE_800x600" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame">
<code class="descname">frame</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the raw version using the Frame object.</p>
<p>Use frame([index]) to read the frame more easily.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<em>int, optional</em>) &#8211; Index of the frames, from 0 to 2.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Frame object with accessible pixels.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#pynq.drivers.video.Frame" title="pynq.drivers.video.Frame">Frame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_addr">
<code class="descname">frame_addr</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current frame address.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> (<em>int, optional</em>) &#8211; Index of the current frame buffer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Address of the frame, thus current frame buffer.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_height">
<code class="descname">frame_height</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_height" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current frame height.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The height of the frame.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_index">
<code class="descname">frame_index</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the frame index.</p>
<p>Use frame_index([new_frame_index]) to access the frame index.
If <cite>new_frame_index</cite> is not specified, get the current frame index.
If <cite>new_frame_index</cite> is specified, set the current frame to the
new index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_frame_index</strong> (<em>int, optional</em>) &#8211; Index of the frames, from 0 to 2.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The index of the active frame.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_index_next">
<code class="descname">frame_index_next</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_index_next" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the frame index to the next one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The index of the active frame.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_phyaddr">
<code class="descname">frame_phyaddr</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_phyaddr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current physical frame address.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> (<em>int, optional</em>) &#8211; Index of the current frame buffer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Physical address of the frame, thus current frame buffer.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_raw">
<code class="descname">frame_raw</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the frame as a bytearray.</p>
<p>User may use frame([index]) to access the frame, which may
introduce some overhead in rare cases. The method frame_raw([i])
is faster, but the parameter <cite>i</cite> has to be calculated manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> (<em>int, optional</em>) &#8211; A location in the bytearray.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The frame in its raw bytearray form.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bytearray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.frame_width">
<code class="descname">frame_width</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.frame_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current frame width.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The width of the frame.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.mode">
<code class="descname">mode</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the resolution of the display.</p>
<p>Users can use mode(new_mode) to change the resolution.
Specifically, with <cite>new_mode</cite> to be:</p>
<p>0 : <a class="reference external" href="mailto:'640x480&#37;&#52;&#48;60Hz">'640x480<span>&#64;</span>60Hz</a>&#8216;</p>
<p>1 : <a class="reference external" href="mailto:'800x600&#37;&#52;&#48;60Hz">'800x600<span>&#64;</span>60Hz</a>&#8216;</p>
<p>2 : <a class="reference external" href="mailto:'1280x720&#37;&#52;&#48;60Hz">'1280x720<span>&#64;</span>60Hz</a>&#8216;</p>
<p>3 : <a class="reference external" href="mailto:'1280x1024&#37;&#52;&#48;60Hz">'1280x1024<span>&#64;</span>60Hz</a>&#8216;</p>
<p>4 : <a class="reference external" href="mailto:'1920x1080&#37;&#52;&#48;60Hz">'1920x1080<span>&#64;</span>60Hz</a>&#8216;</p>
<p>If <cite>new_mode</cite> is not specified, return the current mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_mode</strong> (<em>int</em>) &#8211; A mode index from 0 to 4.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The resolution of the display.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211; If <cite>new_mode</cite> is out of range.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.video.HDMI.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>timeout=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/video.html#HDMI.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.video.HDMI.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the video controller.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.state">
<code class="descname">state</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the state of the device as an integer value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The state 0 (DISCONNECTED), or 1 (STREAMING), or 2 (PAUSED).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pynq.drivers.video.HDMI.stop">
<code class="descname">stop</code><em class="property"> = None</em><a class="headerlink" href="#pynq.drivers.video.HDMI.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the video controller.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pynq.drivers.xlnk">
<span id="pynq-drivers-xlnk-module"></span><h2>pynq.drivers.xlnk module<a class="headerlink" href="#module-pynq.drivers.xlnk" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pynq.drivers.xlnk.sig_handler">
<code class="descclassname">pynq.drivers.xlnk.</code><code class="descname">sig_handler</code><span class="sig-paren">(</span><em>signum</em>, <em>frame</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#sig_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.sig_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pynq.drivers.xlnk.xlnk">
<em class="property">class </em><code class="descclassname">pynq.drivers.xlnk.</code><code class="descname">xlnk</code><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to enable CMA memory management.</p>
<p>The CMA state maintained by this class is local to the
application except for the <cite>CMA Memory Available</cite> attribute
which is global across all the applications.</p>
<dl class="attribute">
<dt id="pynq.drivers.xlnk.xlnk.bufmap">
<code class="descname">bufmap</code><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.bufmap" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; Mapping of allocated memory to the buffer sizes in bytes.</p>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.xlnk.xlnk.cma_alloc">
<code class="descname">cma_alloc</code><span class="sig-paren">(</span><em>length</em>, <em>cacheable=0</em>, <em>data_type='void'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk.cma_alloc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.cma_alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate physically contiguous memory buffer.</p>
<p>Allocates a new buffer and adds it to <cite>bufmap</cite>.</p>
<p>Possible values for parameter <cite>cacheable</cite> are:</p>
<p><cite>1</cite>: the memory buffer is cacheable.</p>
<p><cite>0</cite>: the memory buffer is non-cacheable.</p>
<p class="rubric">Examples</p>
<p>memmanager = xlnk.xlnk()</p>
<p># Allocate 10 <cite>void *</cite> memory locations.</p>
<p>m1 = memmanager.cma_alloc(10)</p>
<p># Allocate 10 <cite>float *</cite> memory locations.</p>
<p>m2 = memmanager.cma_alloc(10, data_type = &#8220;float&#8221;)</p>
<p class="rubric">Notes</p>
<p>1. Total size of buffer is automatically calculated as
size = length * sizeof(data_type)</p>
<p>2. This buffer is allocated inside the kernel space using
xlnk driver. The maximum allocatable memory is defined
at kernel build time using the CMA memory parameters.
For Pynq-Z1 kernel, it is specified as 128MB.</p>
<p>The unit of <cite>length</cite> depends upon the <cite>data_type</cite> argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>length</strong> (<em>int</em>) &#8211; Length of the allocated buffer. Default unit is bytes.</li>
<li><strong>cacheable</strong> (<em>int</em>) &#8211; Indicating whether or not the memory buffer is cacheable.</li>
<li><strong>data_type</strong> (<em>str</em>) &#8211; CData type of the allocated buffer. Should be a valid C-Type.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An CFFI object which can be accessed similar to arrays.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">cffi.FFI.CData</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pynq.drivers.xlnk.xlnk.cma_cast">
<em class="property">static </em><code class="descname">cma_cast</code><span class="sig-paren">(</span><em>data</em>, <em>data_type='void'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk.cma_cast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.cma_cast" title="Permalink to this definition">¶</a></dt>
<dd><p>Cast underlying buffer to a specific C-Type.</p>
<p>Input buffer should be a valid object which was allocated through
<cite>cma_alloc</cite> or a CFFI pointer to a memory buffer. Handy for changing
void buffers to user defined buffers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>cffi.FFI.CData</em>) &#8211; A valid buffer pointer allocated via <cite>cma_alloc</cite>.</li>
<li><strong>data_type</strong> (<em>str</em>) &#8211; New data type of the underlying buffer.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pointer to buffer with specified data type.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">cffi.FFI.CData</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.xlnk.xlnk.cma_free">
<code class="descname">cma_free</code><span class="sig-paren">(</span><em>buf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk.cma_free"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.cma_free" title="Permalink to this definition">¶</a></dt>
<dd><p>Free a previously allocated buffer.</p>
<p>Input buffer should be a valid object which was allocated through
<cite>cma_alloc</cite> or a CFFI pointer to a memory buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>buf</strong> (<em>cffi.FFI.CData</em>) &#8211; A valid buffer pointer allocated via <cite>cma_alloc</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.xlnk.xlnk.cma_get_buffer">
<code class="descname">cma_get_buffer</code><span class="sig-paren">(</span><em>buf</em>, <em>length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk.cma_get_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.cma_get_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a buffer object.</p>
<p>Used to get an object which supports python buffer interface.
The return value thus, can be cast to objects like
<cite>bytearray</cite>, <cite>memoryview</cite> etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>buf</strong> (<em>cffi.FFI.CData</em>) &#8211; A valid buffer object which was allocated
through <cite>cma_alloc</cite>.</li>
<li><strong>len</strong> (<em>int</em>) &#8211; Length of buffer in Bytes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A CFFI object which supports buffer interface.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">cffi.FFI.CData</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pynq.drivers.xlnk.xlnk.cma_memcopy">
<em class="property">static </em><code class="descname">cma_memcopy</code><span class="sig-paren">(</span><em>dest</em>, <em>src</em>, <em>nbytes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk.cma_memcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.cma_memcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>High speed memcopy between buffers.</p>
<p>Used to perform a byte level copy of data from source buffer to
the destination buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dest</strong> (<em>cffi.FFI.CData</em>) &#8211; Destination buffer object which was allocated through <cite>cma_alloc</cite>.</li>
<li><strong>src</strong> (<em>cffi.FFI.CData</em>) &#8211; Source buffer object which was allocated through <cite>cma_alloc</cite>.</li>
<li><strong>nbytes</strong> (<em>int</em>) &#8211; Number of bytes to copy.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.xlnk.xlnk.cma_stats">
<code class="descname">cma_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk.cma_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.cma_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current CMA memory Stats.</p>
<p><cite>CMA Memory Available</cite> : Systemwide CMA memory availability.</p>
<p><cite>CMA Memory Usage</cite> : CMA memory used by current object.</p>
<p><cite>Buffer Count</cite> : Buffers allocated by current object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of current stats.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pynq.drivers.xlnk.xlnk.xlnk_reset">
<code class="descname">xlnk_reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pynq/drivers/xlnk.html#xlnk.xlnk_reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynq.drivers.xlnk.xlnk.xlnk_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Systemwide Xlnk Reset.</p>
<p class="rubric">Notes</p>
<p>This method resets all the CMA buffers allocated across the system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="14_faqs.html" class="btn btn-neutral float-right" title="Frequently Asked Questions (FAQs)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pynq.iop.html" class="btn btn-neutral" title="pynq.iop package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Xilinx.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>